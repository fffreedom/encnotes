# 项目概览

## 📋 项目信息

**项目名称**: 数学笔记 (MathNotes)  
**版本**: 1.0.0  
**开发语言**: Python 3.8+  
**GUI框架**: PyQt6  
**平台**: macOS  

## 🎯 项目目标

创建一款类似Mac备忘录的笔记应用，在标准备忘录功能基础上增加对LaTeX和MathML数学公式的支持，为数学、物理、工程等领域的学习和工作提供便利。

## ✨ 核心功能

### 1. Mac风格界面
- 三栏布局：文件夹列表 | 笔记列表 | 编辑器
- 简洁优雅的设计
- 符合Mac用户使用习惯

### 2. 富文本编辑
- 支持多种文本格式
- 自动保存功能
- 实时编辑预览

### 3. 数学公式支持
- **LaTeX公式**: 使用matplotlib渲染，支持复杂数学表达式
- **MathML公式**: 使用lxml解析，支持标准MathML格式
- 可视化公式输入对话框
- 常用公式快捷插入

### 4. 笔记管理
- 创建、编辑、删除笔记
- 收藏重要笔记
- 回收站功能
- 按时间排序

## 🏗️ 架构设计

### 模块划分

```
┌─────────────────────────────────────────┐
│           main.py (应用入口)             │
└─────────────────┬───────────────────────┘
                  │
    ┌─────────────┴─────────────┐
    │                           │
┌───▼──────────┐      ┌────────▼─────────┐
│ main_window  │      │  note_manager    │
│  (主窗口)     │◄────►│  (数据管理)      │
└───┬──────────┘      └──────────────────┘
    │
    │
┌───▼──────────┐      ┌──────────────────┐
│ note_editor  │      │  math_renderer   │
│  (编辑器)     │◄────►│  (公式渲染)      │
└──────────────┘      └──────────────────┘
```

### 文件说明

| 文件 | 功能 | 代码行数 |
|------|------|---------|
| main.py | 应用程序入口，初始化应用 | ~30 |
| main_window.py | 主窗口，实现三栏布局和菜单 | ~200 |
| note_editor.py | 编辑器，处理文本编辑和公式插入 | ~200 |
| note_manager.py | 数据管理，处理笔记的CRUD操作 | ~120 |
| math_renderer.py | 公式渲染，将LaTeX/MathML转为图片 | ~150 |

## 🔧 技术栈

### 核心依赖

1. **PyQt6** (6.4.0+)
   - 作用：GUI框架
   - 选择理由：跨平台、功能强大、Mac支持好

2. **matplotlib** (3.6.0+)
   - 作用：LaTeX公式渲染
   - 选择理由：内置LaTeX支持、渲染质量高

3. **lxml** (4.9.0+)
   - 作用：MathML解析
   - 选择理由：高效的XML解析库

### 数据存储

- 格式：JSON
- 位置：`~/.mathnotes/notes.json`
- 结构：
```json
{
  "note_id": {
    "id": "uuid",
    "title": "标题",
    "content": "HTML内容",
    "created_at": "ISO时间",
    "updated_at": "ISO时间",
    "is_favorite": false,
    "is_deleted": false
  }
}
```

## 📊 功能实现状态

### ✅ 已实现

- [x] Mac风格三栏布局
- [x] 笔记创建、编辑、删除
- [x] 富文本编辑
- [x] LaTeX公式插入和渲染
- [x] MathML公式插入和渲染
- [x] 自动保存
- [x] 收藏功能
- [x] 回收站功能
- [x] 快捷键支持
- [x] 数据持久化

### 🚧 待实现

- [ ] 导出为PDF
- [ ] 导出为Markdown
- [ ] 图片插入
- [ ] 表格插入
- [ ] 标签分类
- [ ] 全文搜索
- [ ] 云同步
- [ ] 主题切换
- [ ] 多语言支持

## 🎨 设计理念

### 1. 简洁优先
- 界面简洁，功能直观
- 减少用户学习成本
- 专注于核心功能

### 2. 用户体验
- 自动保存，防止数据丢失
- 快捷键支持，提高效率
- 实时预览，所见即所得

### 3. 可扩展性
- 模块化设计，易于扩展
- 清晰的代码结构
- 完善的文档

## 📈 性能指标

- 启动时间：< 2秒
- 笔记加载：< 100ms
- 公式渲染：< 500ms
- 内存占用：< 100MB
- 存储空间：每篇笔记约 1-10KB

## 🔒 安全性

- 本地存储，数据不上传
- JSON格式，易于备份
- 无网络请求，保护隐私

## 📚 文档结构

```
docs/
├── README.md          # 项目介绍
├── QUICKSTART.md      # 快速开始
├── INSTALL.md         # 安装指南
├── EXAMPLES.md        # 使用示例
├── OVERVIEW.md        # 项目概览（本文件）
└── LICENSE            # 开源许可
```

## 🤝 贡献指南

欢迎贡献代码！请遵循以下步骤：

1. Fork 项目
2. 创建特性分支 (`git checkout -b feature/AmazingFeature`)
3. 提交更改 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 开启 Pull Request

## 📞 联系方式

- 项目主页：待添加
- 问题反馈：GitHub Issues
- 邮件：待添加

## 📝 更新日志

### v1.0.0 (2026-01-04)
- 🎉 首次发布
- ✨ 实现基础笔记功能
- ✨ 支持LaTeX公式
- ✨ 支持MathML公式
- ✨ Mac风格界面

---

**让数学笔记变得简单而优雅！** 📐✨
